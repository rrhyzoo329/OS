# Chapter04CPU스케줄링 [3.다중큐] 

<br>

### 다중 큐
1.  다중 큐란
   - 프로세스의 중요도는 PCB에 표시된다. CPU 스케줄러는 모든 PCB를 뒤져서 가장 높은 우선순위의 프로세스에 CPU를 할당한다. 하지만 매번 모든 PCB를 찾는다는 것은 비효율적인 일이다.

2.  준비 상태의 다중 큐
   - 프로세스는 준비 상태에 들어올 때마다 자신의 우선순위에 해당하는 큐의 마지막에 삽입된다. 준비 큐를 몇개로 나눌지, 여러 개의 큐 중에서 어떤 프로세스를 CPU에 할당할 지는 스케줄링 알고리즘에 따라 달라진다.
   - 프로세스의 우선순위를 배정하는 방식에는 고정 우선순위와 변동 우선순위가 있다.
      - 고정 우선순위 방식 : 운영체제가 프로세스에 우선순위를 부여하면 프로세스가 종료될 떄까지 바뀌지 않는 방식
      - 변동 우선순위 방식 : 프로세스 생성 시 부여받은 우선순위가 프로세스 작업 중간에 변하는 방식
      
   중요한 자원을 점유하고 있으며 우선순위가 낮은 P1 이라는 프로세스가 있다고 가정하자. 해당 자원을 사용하고자 하는 다른 우선순위가 높은 프로세스들은 P1이 선점하고 있는 자원을 사용하기 위해서 기다려야하는 상황이 발생할 수 있다. 이 때 변동 우선순위 방식을 사용하여 P1의 우선순위를 높이면 다른 프로세스의 작업도 원활하게 진행될 수 있다.

3.  대기 상태의 다중 큐
   - 시스템 내에는 다양한 입출력 장치가 있기 때문에 대기 상태의 프로세스를 구분하여 관리하는 것이 편리하다.
   - 대기 상태의 다중 큐에 있는 프로세스중 일부는 나중에 들어온 프로세스가 먼저 준비 상태로 옮겨가기도 한다. 입출력 장치는 작업 속도를 높이기 위해 작업 순서를 바꾸는 경우가 있는데 이떄는 나중에 요청된 작업이 먼저 처리되기 때문이다.
   - 준비 상태의 다중 큐와 대기 상태의 다중 큐 차이
      - 준비 큐는 한 번에 하나의 프로세스를 꺼내어 CPU를 할당하는 반면, 대기 큐는 여러 개의 프로세스 제어 블록을 동시에 꺼내어 준비 상태로 옮긴다. 이렇게 동시에 끝나는 인터럽트를 처리하기 위해 인터럽트 벡터라는 자료 구조를 사용한다. 인터럽트 벡터에는 동시에 완료된 입출력 정보와 처리 방법이 담겨 있는데, 이 정보에 따라 완료된 프로세스 제어 블록은 모두 준비 상태로 이동한다.
   
 
``` 